@startuml Registrar Descargo
left to right direction
skinparam packageStyle rectangle

actor "Colaborador Operativo" as Colab

package "Módulo de Gestión de Incidencias" {
    
    usecase "Consultar Incidencias Asignadas" as UC_Consultar
    usecase "Ver Detalle de Incidencia" as UC_Detalle
    
    ' El nuevo caso de uso solicitado
    usecase "Registrar Descargo" as UC_Descargo
    
    ' Funcionalidades de apoyo
    usecase "Adjuntar Evidencia de Defensa" as UC_Adjuntar
    usecase "Validar Plazo de Respuesta" as UC_Plazo

    ' Relaciones del Actor
    Colab -- UC_Consultar
    
    ' Relaciones entre Casos de Uso
    
    ' 1. Para registrar descargo, el flujo natural es entrar al detalle primero
    ' (Aunque también podría ser directo si conoce el ID, visualmente es mejor así)
    UC_Consultar <.. UC_Detalle : <<extend>>
    UC_Detalle <.. UC_Descargo : <<extend>>
    
    ' 2. Relaciones del Descargo
    ' Al registrar descargo, PUEDES adjuntar pruebas (fotos, chats) -> Opcional
    UC_Descargo <.. UC_Adjuntar : <<extend>>
    
    ' Al registrar descargo, el sistema SIEMPRE valida si estás a tiempo (e.g. 24h para responder) -> Obligatorio
    UC_Descargo ..> UC_Plazo : <<include>>

}
@enduml